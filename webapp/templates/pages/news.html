{% extends 'pages/index.html' %}
{% load static %}

{% block content %}
{% include 'pages/logout.html' %}

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
<link rel="stylesheet" type="text/css" href="{% static 'css/landingpage.css' %}">
<link rel="stylesheet" type="text/css" href="{% static 'css/landingpage.css' %}">
<script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
<link rel="stylesheet" href="{% static 'css/global.css' %}">
<link rel="stylesheet" href="{% static 'css/adminPost.css' %}">

<nav class="navbar">
    <div class="logo">
      <img src="{% static 'image/fingerprint-scan.png' %}" alt="logo">
      <h3>OMSUFB</h3>
    </div>
    <div class="nav-links">
    <a href="{% url 'landing_page' %}">Get Back</a>    
    <a href="{% url 'news' %}">News</a>
    <a href="{%url 'studorg' %}">Org Chart</a>
    <a href="{% url 'status' %}">Status</a>
        </div>
    </div>
    </div>
    <div class="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </nav>


</div>

<div class="box">
    
    <ul>
        {% if posts %}
             {% for post in posts %}
             <div class="cons">
                 <div class="post-content">
                     <div class="post-header">
                         {% if post.author.userprofile.profile_picture %}
                             <img src="{{ post.author.userprofile.profile_picture.url }}" alt="Author's Profile Picture" class="post-author-pic">
                         {% else %}
                             <img src="{% static 'image/usericon.png' %}" alt="Default Profile Picture" class="post-author-pic">
                         {% endif %}
                         <strong>{{ post.author.first_name }}</strong> <br>
                         <span>{{ post.created_at }}</span><br>
                     </div>
                     <div class="post-body" id="postBody-{{ post.id }}">
                         <p>{{ post.body }}</p>
                     </div>                    
                     {% if post.image %}
                         <div class="post-container">
                             <a href="{{ post.image.url }}" target="_blank">
                                 <img src="{{ post.image.url }}" alt="Post Image" class="post-image">
                             </a>
                         </div>
                     {% endif %}
                     <br>
                 </div>
                 
             </div>
             {% endfor %}
         {% else %}
             <div class="no-posts-message">
                 <p>No posts available. Be the first to share something!</p>
             </div>
         {% endif %}
     </ul>
 </div>
</div>

<script>
    function toggleCreatePost() {
        const createPostSection = document.getElementById('createPostSection');
        createPostSection.style.display = createPostSection.style.display === 'none' || createPostSection.style.display === '' ? 'block' : 'none';
    }
</script>

{% endblock %}
